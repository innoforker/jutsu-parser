# Как пользоваться

- Импортируйте этот пакет в ваш проект<br />
  Используйте
  ```py
  import sys
  sys.path.append("тут путь до папки с jutsu_parser")
  ```
  для импортирования пакета.<br />

# Классы и функции

**JutsuParser (синхронный) и Nurparse (асинхронный)** классы для парсинга содержимого

- get\_(async)\_default_anime_list() возвращает список словарей (список аниме на Главной странице)

  - Структура словаря:
    - **@id**
      - Мнимый идентификатор аниме для отображения списка аниме по порядку
    - **title**
      - Название аниме на русском языке
    - **image_url**
      - Ссылка на картинку аниме (по умолчанию, размер неизвестен)
    - **release_url**
      - Полная ссылка до аниме-релиза (в формате "https://jut.su/НАЗВАНИЕ")
    - **extra**
      - Дополнительная информация о релизе (количество эпизодов и т.д.)
  - Параметры, которые вы можете задать:
    - **page**
      - Просто номер страницы, которую вы хотите парсить
  - Пример
    - <code>from jutsu_parser import parser
      parse_info = parser.JutsuParser("тут ваш путь до .sqlite файла веб-кэша")
      \# **Без смены страницы**
      print(parse_info.get_default_anime_list())
      \# **Со сменой страницы**
      print(parse_info.get_default_anime_list(5))</code>

- get\_(async)\_anime_link_by_query() возвращает просто ссылку на релиз по поисковому запросу. Если ничего не найдено, возвращает **None**.

  - Формат ссылки
    - https://jut.su/НАЗВАНИЕ
  - Параметры, которые вы **должны** установить:
    - **query**
      - Поисковый запрос для поиска ссылки на релиз

- get\_(async)\_random_technique() возвращает словарь с информацией о случайной технике
  - Структура словаря:
    - **title**
      - Название техники
    - **url**
      - Ссылка на дополнительную информацию о технике
    - **image_url**
      - Ссылка на картинку с техникой в плохом качестве (по умолчанию картинка это кадр из аниме)

_(async) - необязательно, может быть использовано только в классе **Nurparse()** как асинхронная функция_

**JutsuTV** класс для загрузки аниме

- get_video_link\_(a)sync() возвращает ссылку на видео из плеера или **None**, если видео недоступно
  - Параметры:
    - **anime_url_or_href**
      - Ссылка на аниме (по типу _https://jut.su/НАЗВАНИЕ/season-1/episode-1.html_) или href (по типу _/НАЗВАНИЕ/season-1/episode-1.html_). Вам нужно указать сезон и серию. Путь к аниме может не содержать номер сезона (например, _https://jut.su/toradora/episode-1.html_)
- download_video\_(a)sync() возвращает **True** если успешно и **False**, если возникла ошибка
  - Параметры:
    - video_url
      - Полный путь к файлу MP4 из оригинального плеера jut.su (брать из предыдущей функции)
    - save_path
      - Внутренний путь URI, куда необходимо сохранить видео
    - proxies
      - Словарь ваших прокси в формате `{"протокол": "ссылка", "протокол": "ссылка", ...}`
